<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./todo.css">
    <title>Document</title>
  </head>
  <body>
    <div class="container">
      <h3>TO DO LIST</h3>
      <h4>Tên task</h4>
      <input type="text" id="myText" />
      <h4>Mô tả</h4>
      <textarea name="" id="note" cols="30" rows="8"></textarea>
      <div>
        <button id="add-button" onclick="myFunction()">Add</button>
      </div>
      <h4>Danh sách tasks</h4>
      <div id="tasklist"></div>
    </div>
    <script>
        function myFunction() {
          var x = document.getElementById("myText").value;
          if (document.getElementById("myText").value.length == 0) {
            alert("Please add a task");
          } else
            document.getElementById("tasklist").innerHTML += `<div class="task">
                  <span id="taskname">
                      ${document.getElementById("myText").value}
                  </span>
                  <span id="note">
                      ${document.getElementById("note").value}
                  </span>
                  <button class="delete">
                      Delete
                  </button>
                  <button class="edit">
                      Edit
                  </button>
              </div>`;
          var current_tasks = document.querySelectorAll(".delete");
          for (var i = 0; i < current_tasks.length; i++) {
            current_tasks[i].onclick = function () {
              this.parentNode.remove();
            };
          }
          var current_tasks = document.querySelectorAll(".edit");
          for (var i = 0; i < current_tasks.length; i++) {
            current_tasks[i].onclick = function () {
              var y = document.getElementById("myText").value;
              this.parentElement.firstElementChild.innerHTML = y;
            };
          }
        }
      </script>
  </body>
</html>
